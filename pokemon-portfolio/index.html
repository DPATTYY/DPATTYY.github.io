<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pok√©mon Portfolio - Interactive Town</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Intro Banner -->
    <div id="intro-banner">
        <div class="banner-text">Welcome to Dharm's Portfolio</div>
    </div>

    <div id="game-container">
        <div id="phaser-game"></div>
    </div>

    <!-- Portfolio Content Modals -->
    <div id="modal-overlay" class="modal-overlay hidden">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">&times;</button>
            <div id="modal-body"></div>
        </div>
    </div>

    <!-- Dialogue Box (Pok√©mon-style) -->
    <div id="dialogue-box" class="dialogue-box hidden">
        <div class="dialogue-content">
            <p id="dialogue-text"></p>
            <div class="dialogue-arrow">‚ñº</div>
        </div>
    </div>

    <!-- Phaser 3 Library -->
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.70.0/dist/phaser.min.js"></script>

    <!-- Game Scripts -->
    <script src="src/utils/constants.js"></script>
    <script src="src/objects/Player.js"></script>
    <script src="src/objects/Building.js"></script>
    <script src="src/objects/DialogueBox.js"></script>
    <script src="src/scenes/PreloadScene.js"></script>
    <script src="src/scenes/TownScene.js"></script>
    <script src="src/main.js"></script>

    <script>
        // Modal control functions
        function openModal(buildingType) {
            const modalOverlay = document.getElementById('modal-overlay');
            const modalBody = document.getElementById('modal-body');

            // Content based on building type
            const content = {
                lab: `
                    <h2>üî¨ Tech Lab - My Projects</h2>
                    <div class="portfolio-section">
                        <div class="project-card">
                            <h3>Project 1: AI-Powered Pok√©dex</h3>
                            <p>A machine learning project using TensorFlow to classify Pok√©mon.</p>
                            <a href="https://github.com/yourusername/project1" target="_blank">View on GitHub</a>
                        </div>
                        <div class="project-card">
                            <h3>Project 2: Blockchain Trading System</h3>
                            <p>Real-time crypto trading platform with React and Web3.</p>
                            <a href="https://github.com/yourusername/project2" target="_blank">View on GitHub</a>
                        </div>
                        <div class="project-card">
                            <h3>Project 3: Game Engine</h3>
                            <p>Custom 2D game engine built with WebGL and TypeScript.</p>
                            <a href="https://github.com/yourusername/project3" target="_blank">View Demo</a>
                        </div>
                    </div>
                `,
                library: `
                    <h2>üìö Library - About Me</h2>
                    <div class="portfolio-section">
                        <div class="about-content">
                            <img src="assets/sprites/avatar.png" alt="Profile" class="profile-image">
                            <h3>Hi, I'm [Your Name]</h3>
                            <p>A passionate software engineer who loves creating interactive experiences and solving complex problems.</p>
                            <h4>Skills & Values</h4>
                            <ul>
                                <li>Full-Stack Development (React, Node.js, Python)</li>
                                <li>Game Development (Unity, Phaser, Three.js)</li>
                                <li>Machine Learning & AI</li>
                                <li>Blockchain & Web3</li>
                            </ul>
                            <a href="assets/cv.pdf" class="btn-download" download>Download CV</a>
                        </div>
                    </div>
                `,
                townhall: `
                    <h2>üèõÔ∏è Town Hall - Experience</h2>
                    <div class="portfolio-section">
                        <div class="experience-timeline">
                            <div class="experience-item">
                                <h3>Senior Software Engineer @ Tech Corp</h3>
                                <span class="date">2022 - Present</span>
                                <p>Led team of 5 developers building scalable web applications.</p>
                            </div>
                            <div class="experience-item">
                                <h3>Full-Stack Developer @ StartupXYZ</h3>
                                <span class="date">2020 - 2022</span>
                                <p>Built MVP and core features for SaaS platform serving 10k+ users.</p>
                            </div>
                            <div class="experience-item">
                                <h3>Community Leader - Tech Meetup</h3>
                                <span class="date">2019 - Present</span>
                                <p>Organized monthly meetups and mentored 50+ junior developers.</p>
                            </div>
                        </div>
                    </div>
                `,
                pokemart: `
                    <h2>üõí Pok√©Mart - Fun Extras</h2>
                    <div class="portfolio-section">
                        <div class="extras-grid">
                            <div class="extra-card">
                                <h3>üéÆ Gaming</h3>
                                <p>Speedrunner of Pok√©mon games. Current PB: 3:42:15 in Gen 1.</p>
                            </div>
                            <div class="extra-card">
                                <h3>üìù Blog</h3>
                                <p>Writing about web performance, game dev, and retro gaming.</p>
                                <a href="/blog">Read My Blog</a>
                            </div>
                            <div class="extra-card">
                                <h3>üé® Pixel Art</h3>
                                <p>Creating custom sprites and tilesets for indie games.</p>
                            </div>
                            <div class="extra-card">
                                <h3>ü•ö Easter Egg</h3>
                                <p>You found it! Try pressing 'P' in the town for a surprise!</p>
                            </div>
                        </div>
                    </div>
                `
            };

            modalBody.innerHTML = content[buildingType] || '<p>Content coming soon...</p>';
            modalOverlay.classList.remove('hidden');

            // Pause game
            if (window.game && window.game.scene.isActive('TownScene')) {
                window.game.scene.pause('TownScene');
            }
        }

        function closeModal() {
            const modalOverlay = document.getElementById('modal-overlay');
            modalOverlay.classList.add('hidden');

            // Resume game
            if (window.game && window.game.scene.isPaused('TownScene')) {
                window.game.scene.resume('TownScene');
            }
        }

        // Close modal on ESC key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeModal();
            }
        });
    </script>
</body>
</html>
